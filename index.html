<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>–ö–∞—Ç–∞–ª–æ–≥ —à–∞–±–ª–æ–Ω–æ–≤</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: Arial, sans-serif;
    background: #000;
    color: #fff;
    padding: 20px;
    margin: 0;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∏ */
.card {
    background: #fff;
    color: #000;
    border-radius: 14px;
    padding: 16px;
    margin: 20px auto;
    display: flex;
    gap: 16px;
    max-width: 900px;
    box-shadow: 0 0 20px rgba(255,255,255,0.1);
}

/* –ü—Ä–µ–≤—å—é */
.thumb {
    width: 200px;
    height: 120px;
    object-fit: cover;
    border-radius: 10px;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ç–µ–∫—Å—Ç–∞ */
.info {
    flex: 1;
    display: flex;
    flex-direction: column;
}

h3 {
    margin: 0 0 6px;
    font-size: 20px;
}

.small {
    color: #333;
    font-size: 14px;
}

.btn {
    display: inline-block;
    padding: 12px 16px;
    background: #0088cc;
    color: white;
    border-radius: 8px;
    text-decoration: none;
    margin-top: 12px;
    text-align: center;
    font-size: 16px;
}

/* –ê—É–¥–∏–æ */
audio {
    width: 100%;
    margin-top: 10px;
    border-radius: 8px;
}

/* üì± –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ */
@media (max-width: 768px) {
    body {
        padding: 10px;
    }

    .card {
        flex-direction: column;
        padding: 14px;
        margin: 14px 0;
    }

    .thumb {
        width: 100%;
        height: auto;
        max-height: 260px;
    }

    h3 {
        font-size: 18px;
        margin-top: 10px;
    }

    .btn {
        width: 100%;
    }
}
</style>
</head>
<body>

<div id="list">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

<script>

const BOT_NAME = "Kacaro_bot";

// –ó–∞–≥—Ä—É–∂–∞–µ–º JSON –∏–∑ —Ñ–∞–π–ª–∞
fetch("data.json")
    .then(r => r.json())
    .then(data => render(data))
    .catch(err => {
        document.getElementById("list").innerHTML = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ JSON";
        console.error(err);
    });

function render(data) {
    const list = document.getElementById("list");
    list.innerHTML = "";

    data.forEach(item => {
        const title = item.display_name || "";
        const thumb = item.web_thumbnail_url || item.app_thumbnail_url || "";
        const audio = item.audio_url || "";
        const desc = `–¢–µ–≥: ${item.workflow_tag || ""} ‚Ä¢ ‚≠ê${item.score || ""} ‚Ä¢ ‚è±${item.duration || ""}s`;

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏ –Ω–∞ start
        const startPayload = "open_" + (item.template_id || "");
        const shareUrl = `https://t.me/${BOT_NAME}?start=` + encodeURIComponent(startPayload);

        const card = document.createElement("div");
        card.className = "card";

        card.innerHTML = `
            ${thumb ? `<img class="thumb" src="${thumb}">` : ""}
            <div class="info">
                <h3>${title}</h3>
                <div class="small">${desc}</div>

                ${audio ? `<audio controls src="${audio}"></audio>` : ""}

                <a class="btn" href="${shareUrl}" target="_blank">–û—Ç–∫—Ä—ã—Ç—å –≤ Telegram</a>
            </div>
        `;

        list.appendChild(card);
    });
}
</script>

</body>
</html>
